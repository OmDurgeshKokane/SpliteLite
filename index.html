<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expense Splitter | Premium Experience</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Main CSS -->
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/chat.css">
</head>
<body class="light-mode">
    
    <!-- Background Elements -->
    <div class="bg-gradient"></div>
    <div class="noise-overlay"></div>

    <!-- Navigation -->
    <nav class="navbar glass">
        <div class="logo">
            <i class="fa-solid fa-bolt"></i> SplitLite
        </div>
        <div class="nav-links">
            <a href="about.html" class="btn btn-sm btn-primary" style="box-shadow: 0 4px 15px rgba(var(--primary-rgb), 0.4);">About Us</a>
            <button id="theme-toggle" class="icon-btn" aria-label="Toggle Theme">
                <i class="fa-solid fa-moon"></i>
            </button>
        </div>
        
    </nav>

    <!-- Premium Hamburger (Outside Nav for Z-Index) -->
    <div class="hamburger">
        <span></span>
        <span></span>
        <span></span>
    </div>

    <!-- Mobile Menu Overlay -->
    <div class="mobile-menu glass">
        <!-- Content injected by JS -->
    </div>

    <!-- Main Content -->
    <main>
        <!-- Hero Section -->
        <section id="hero" class="hero-section">
            <div class="hero-content">
                <h1 class="hero-title">Split Bills,<br>Not <span class="highlight">Friendships.</span></h1>
                <p class="hero-desc">The most elegant way to track shared expenses. No backend, purely magical.</p>
                <button class="btn btn-primary cta-btn">Start Splitting <i class="fa-solid fa-arrow-right"></i></button>
            </div>
            <div class="hero-visual" id="canvas-container">
                <!-- Three.js Canvas will be injected here -->
            </div>
        </section>

        <!-- Dashboard Section -->
        <section id="dashboard" class="dashboard-section hidden">
            <div class="section-header">
                <h2>Dashboard</h2>
                <div class="dashboard-actions">
                    <button class="btn btn-secondary" id="reset-data-btn">Reset All</button>
                </div>
            </div>

            <!-- Balances Grid -->
            <div class="grid-layout">
                <div class="card glass balance-card total-balance">
                    <h3>Total Expenses</h3>
                    <p class="amount" id="total-expenses">â‚¹0.00</p>
                </div>
                <!-- More stats or charts could go here -->
            </div>

            <!-- Who Owes Whom -->
            <div class="owe-list-container mt-4">
                <h3>Calculated Debts</h3>
                <div id="debts-list" class="debts-grid">
                    <div class="empty-state">No debts calculated yet.</div>
                </div>
            </div>
        </section>

        <!-- Management Section -->
        <section id="manage" class="manage-section">
            <div class="grid-split">
                
                <!-- Friends Column -->
                <div class="col glass hover-effect">
                    <div class="col-header">
                        <h3><i class="fa-solid fa-users"></i> Friends</h3>
                        <button class="btn btn-sm btn-outline" id="add-friend-btn"><i class="fa-solid fa-plus"></i> Add</button>
                    </div>
                    <form id="friend-form" class="hidden-form">
                        <div class="form-group">
                            <input type="text" id="friend-name" placeholder="Name" required>
                        </div>
                        <div class="form-group">
                            <input type="email" id="friend-email" placeholder="Email (for verification)" required>
                        </div>
                        <button type="submit" class="btn btn-primary btn-sm">Save</button>
                    </form>
                    <div id="friends-list" class="list-container">
                        <!-- Friend Items -->
                    </div>
                </div>

                <!-- Expenses Column -->
                <div class="col glass hover-effect">
                    <div class="col-header">
                        <h3><i class="fa-solid fa-receipt"></i> Expenses</h3>
                        <button class="btn btn-sm btn-outline" id="add-expense-btn"><i class="fa-solid fa-plus"></i> Add</button>
                    </div>
                    
                    <!-- Add Expense Form -->
                    <form id="expense-form" class="hidden-form">
                        <div class="form-group">
                            <input type="text" id="expense-desc" placeholder="What for?" required>
                        </div>
                        <div class="form-group">
                            <input type="number" id="expense-amount" placeholder="Amount (â‚¹)" min="0" step="0.01" required>
                        </div>
                        <div class="form-group">
                            <label>Paid By</label>
                            <select id="payer-select" required></select>
                        </div>
                        <div class="form-group">
                            <label>Split With (Hold Ctrl for multiple)</label>
                            <select id="split-select" multiple required></select>
                        </div>
                        <button type="submit" class="btn btn-primary btn-block">Add Expense</button>
                    </form>

                    <div id="expenses-list" class="list-container">
                        <!-- Expense Items -->
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer style="text-align: center; padding: 2rem; color: var(--text-light); font-weight: 500;">
        Made in India ðŸ‡®ðŸ‡³ with <i class="fa-solid fa-heart" style="color: var(--danger)"></i>
    </footer>

    <!-- Toasts -->
    <div id="toast-container"></div>

    <!-- Scripts -->
    <!-- Tesseract.js -->
    <script src='https://cdn.jsdelivr.net/npm/tesseract.js@5/dist/tesseract.min.js'></script>
    
    <!-- EmailJS -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>

    <!-- Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

    <!-- Modules -->
    <script type="module" src="assets/js/app.js"></script>
</body>
</html>
